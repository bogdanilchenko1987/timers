var horses=["Secretariat","Eclipse","West Australian","Flying Fox","Seabiscuit"],raceCounter=0,refs={startBtn:document.querySelector(".js-start-race"),winnerField:document.querySelector(".js-winner"),progressField:document.querySelector(".js-progress"),tableBody:document.querySelector(".js-results-table > tbody")};function onStart(){raceCounter+=1;var e=horses.map((function(e){return run(e)}));updateProgressField("ü§ñ Race started, no bets"),updateWinnerField(""),determineWinnerHorse(e),waitForAllHorses(e)}function updateWinnerField(e){refs.winnerField.textContent=e}function updateProgressField(e){refs.progressField.textContent=e}function updateResultsTable(e){var t=e.horse,r=e.time,n=e.raceCounter,o="<tr>\n  <td>".concat(n,"</td>\n  <td>").concat(t,"</td>\n  <td>").concat(r,"</td>\n  </tr>");refs.tableBody.insertAdjacentHTML("beforeend",o)}function determineWinnerHorse(e){Promise.race(e).then((function(e){var t=e.horse,r=e.time;updateWinnerField("üéâ Winner ".concat(t," finished with time - ").concat(r)),updateResultsTable({horse:t,time:r,raceCounter:raceCounter})}))}function waitForAllHorses(e){Promise.all(e).then((function(){return updateProgressField("üìù Race finish, bets are open")}))}function run(e){return new Promise((function(t){var r=getRandomTime(2e3,3500);setTimeout((function(){t({horse:e,time:r})}),r)}))}function getRandomTime(e,t){return Math.floor(Math.random()*(t-e+1)+e)}refs.startBtn.addEventListener("click",onStart);
//# sourceMappingURL=racetrack.b9600249.js.map
